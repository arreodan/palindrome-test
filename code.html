<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Warp - The Code</title>
  <!-- Google Font-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Allan:wght@400;700&family=Bebas+Neue&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet"
  />
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">

<!-- Dev Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="/css/main.css">
<!-- Prism CSS -->
<link rel="stylesheet" href="/css/prism.css">
<!-- Favicon -->
<link rel="shortcut icon" href="/img/LogoNoMargin.png" type="image/x-icon" />
</head>
<body>
<header>
   <nav class="navbar navbar-expand-lg navbar-dark" id="mainNav">
       <div class="container" >
           <a class="navbar-brand" href="/index.html">
            <img src="/img/LogoNoMargin.png" alt="" height="65">
           </a>
           <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
               data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
               aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
           </button>
           <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                   <li class="nav-item">
                       <a class="nav-link" aria-current="page" href="/index.html">Home</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" href="/app.html">App</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link active" href="/code.html">Code</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" href="https://github.com/arreodan/palindrome-test" target="_blank">Repo</a>
                   </li>
                   <li class="nav-item">
                       <a class="nav-link" href="https://danielarreola.dev" target="_blank">Portfolio</a>
                   </li>
                   <li class="nav-item">
                    <!-- Link blog when I have one -->
                       <a target="_blank" class="nav-link" href="https://blogdanielarreola-production.up.railway.app/">Blog</a> 
                   </li>
                </ul>
           </div>
       </div>
   </nav>
</header>

<main class="container mt-3">
    <h1 class="border-bottom border-2 border-dark">The Code</h1>
    <div class="row">
        <div class="col-12 col-lg-8">
            <pre class="line-numbers">
                <code class="language-js">
// Controller
function getValues() {
  let alertbox = document.getElementById("alert");
  alertbox.classList.remove("alert-success");
  alertbox.classList.remove("alert-danger");
  alertbox.classList.add("d-none");
  // get the user's input
  // decide what to do with it
  let userInput = document.getElementById("phrase").value;

  userInput = userInput.toLowerCase();
  let reversedInput = userInput.split("").reverse().join("");
  userInput = userInput.replace(" ", "");
  const regex = /[^a-z0-9]/gi;
  userInput = userInput.replace(regex, "");

  if (userInput.length > 0) {
    let isPalindrome = checkForPalindrome(userInput);
    displayResults(reversedInput, isPalindrome);
  } else {
    Swal.fire({
      icon: "error",
      backdrop: false,
      title: "Oops...",
      text: "Enter a valid phrase",
    });
  }
}

// Business logic
function checkForPalindrome(userInput) {
  let reversedInput = userInput.split("").reverse().join("");

  let isPalindrome = reversedInput == userInput;

  return isPalindrome;
}

// View
function displayResults(reversedInput, isPalindrome) {
  // show string on page

  let resultMessage = "";

  let alertBox = document.getElementById("alert");
  let alertClass = isPalindrome == true ? "alert-success" : "alert-danger";
  alertBox.classList.add(alertClass);

  if (isPalindrome == true) {
    resultMessage = "Your phrase reversed is " + reversedInput;
    resultHeader = "Your phrase is a palindrome!";
  } else {
    resultMessage = "Your phrase reversed is " + reversedInput;
    resultHeader = "Your phrase is not a palindrome!";
  }

  document.getElementById("header").textContent = resultHeader;
  document.getElementById("msg").textContent = resultMessage;
  alertBox.classList.remove("d-none");
}

// id = "phrase";
// id = "btnSubmit";
// id = "alertPass";
// id = "alertFail";

                </code>
            </pre>
        </div>
        <div class="col-12 col-lg-4">
          <p>the code is structed in three functions</p>
          <h5>
            <ul>
              <li>getValues</li>
              <li>checkForPalindrome</li>
              <li>displayResults</li>
            </ul>
          </h5>
          <p>
            First we have getValues, this function gets called when the "check my phrase!" button is clicked and gets what is typed into the text box and stores it in the function, it also removes spaces and sybols from the user's phrase so that punctuations won't be counted when being tested. Lastly it reversed the inputed phrase without any spaces or punctuations.</p> Next the checkForPalindrome gets the original phrase and creates a variable for the reversed phrase and compares them returning a true or false value. <p><br>That true or false value gets used by the displayResults to add the user's reversed input and tell you whether it is or isn't a palindrome and changes the color of the alert to green or red depending on whether your phrase is a valid palindrome. 
          </p>
        </div>
    </div>
</main>

<footer>
<div class="container py-4">
    <div class="row row-cols-1 row-cols-lg-3 align-items-center g-3">
        <div class="col text-center text-lg-start">
            &copy; 2023 Daniel Arreola
        </div>
        <div class="col text-center">
            <img src="/img/LogoWTextnomargin.png" alt="" height="65">
        </div>
        <div class="col text-center text-lg-end">
            <a href="https://www.linkedin.com/in/arreoda/" target="_blank"><i class="bi bi-linkedin socialicons"></i></a>
            <a href="https://github.com/arreodan" target="_blank"><i class="bi bi-github socialicons"></i></a>
            <a href="https://danielarreola.dev" target="_blank"><i class="bi bi-file-earmark-person socialicons"></i></a>
        </div>
    </div>
</div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<!-- Prism Script -->
<script src="/js/prism.js"></script>
<script>
        Prism.plugins.NormalizeWhitespace.setDefaults({
            'remove-trailing': true,
            'remove-indent': true,
            'left-trim': true,
            'right-trim': true
        })
    </script>
</body>
</html>